:root{
  --bg:#0b0c10;
  --panel:#111319;
  --text:#e8e9ee;
  --muted:#9aa0/compiler;
  --line:#242836;
  --accent:#6ee7ff;
  --good:#34d399;
  --bad:#fb7185;
}

*{box-sizing:border-box;}
html, body{
  margin:0; width:100%; height:100%;
  background: radial-gradient(1200px 800px at 50% 10%, #151a2b, var(--bg));
  color:var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", sans-serif;
}

#app{
  width:min(420px, 100vw);
  height:100vh;
  margin:0 auto;
  display:flex;
  flex-direction:column;
}

.topbar{
  padding:14px 16px 10px;
  border-bottom:1px solid var(--line);
}
.title{font-weight:700; letter-spacing:.5px;}
.sub{color:#a9b0c5; font-size:12px; margin-top:4px;}

.screen{
  flex:1;
  padding:16px;
  overflow:auto;
}

.card{
  background: linear-gradient(180deg, #121625, var(--panel));
  border:1px solid var(--line);
  border-radius:16px;
  padding:14px;
  margin:10px 0;
}

.h1{font-size:18px; font-weight:800; margin:0 0 8px;}
.p{color:#a9b0c5; font-size:13px; line-height:1.6; margin:0;}

.row{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;}
.choice{
  flex:1 1 160px;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#0f1320;
  cursor:pointer;
  user-select:none;
  transition:transform .05s ease, border-color .15s ease;
}
.choice:active{transform:scale(.99);}
.choice .name{font-weight:700;}
.choice .meta{color:#a9b0c5; font-size:12px; margin-top:6px;}
.choice.selected{border-color: var(--accent); box-shadow: 0 0 0 2px rgba(110,231,255,.12) inset;}

.bottombar{
  display:flex;
  gap:10px;
  padding:12px 16px;
  border-top:1px solid var(--line);
  background: rgba(9,10,15,.55);
  backdrop-filter: blur(10px);
}

.btn{
  flex:1;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid var(--line);
  background: linear-gradient(180deg, #1b2140, #12162a);
  color:var(--text);
  font-weight:800;
  cursor:pointer;
}
.btn.ghost{
  background: transparent;
  color:#c7ccdd;
}
.btn:disabled{
  opacity:.45;
  cursor:not-allowed;
}

.progressWrap{
  margin-top:12px;
  border:1px solid var(--line);
  border-radius:999px;
  overflow:hidden;
  background:#0f1320;
}
.progressBar{
  height:10px;
  width:0%;
  background: linear-gradient(90deg, var(--accent), var(--good));
}

.big{
  font-size:34px;
  font-weight:900;
  letter-spacing:.5px;
}
.kicker{
  color:#a9b0c5;
  margin-top:6px;
  font-size:13px;
}
.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#0f1320;
  color:#c7ccdd;
  font-size:12px;
  margin-top:10px;
}
.pill b{color:var(--text);}

/* 下部ナビ */
.nav{
  display:flex;
  gap:8px;
  padding:10px 12px calc(10px + env(safe-area-inset-bottom));
  border-top:1px solid var(--line);
  background: rgba(9,10,15,.70);
  backdrop-filter: blur(10px);
}

.navItem{
  flex:1;
  border:1px solid var(--line);
  background:#0f1320;
  color:#c7ccdd;
  border-radius:14px;
  padding:10px 8px;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
}

.navItem.active{
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(110,231,255,.12) inset;
  color: var(--text);
}

.navIcon{font-size:18px; line-height:1;}
.navLabel{font-size:12px; font-weight:800;}

/* Homeレイアウト */
.homeWrap{
  height:100%;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.homeTop{
  flex:1;
  min-height:220px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.homeTop .card{
  width:100%;
}

/* 下1/3：吹き出し＋立ち絵 */
.homeBottom{
  height:33vh;            /* 画面下1/3くらい */
  min-height:220px;
  display:flex;
  gap:10px;
  align-items:stretch;
}

.bubble{
  flex:1;
  position:relative;
  background: linear-gradient(180deg, #121625, var(--panel));
  border:1px solid var(--line);
  border-radius:18px;
  padding:16px 14px 14px;
  overflow:hidden;
}

/* 吹き出しっぽいしっぽ（右向き） */
.bubble:after{
  content:"";
  position:absolute;
  right:-10px;
  bottom:28px;
  width:18px;
  height:18px;
  background: linear-gradient(180deg, #121625, var(--panel));
  border-right:1px solid var(--line);
  border-bottom:1px solid var(--line);
  transform: rotate(-45deg);
}

/* 名前タグ：左上に「ノガミ」 */
.nameTag{
  position:absolute;
  top:10px;
  left:10px;
  padding:5px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#0f1320;
  font-size:12px;
  font-weight:900;
  color:var(--text);
}

/* 吹き出し本文 */
.bubbleText{
  margin-top:36px;
  color:#d9dbe6;
  font-size:14px;
  line-height:1.7;
  white-space:pre-line;
}

/* 右側：主人公（仮） */
.character{
  width:34%;
  min-width:120px;
  border:1px solid var(--line);
  border-radius:18px;
  background: radial-gradient(400px 300px at 40% 30%, #2a355a, #0c1020);
  display:flex;
  align-items:flex-end;
  justify-content:center;
  position:relative;
  overflow:hidden;
}

.character .silhouette{
  width:90%;
  height:92%;
  border-radius:16px;
  background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.06));
  filter: blur(.2px);
  transform: translateY(8px);
}

/* スマホで下部が窮屈なら高さを少し下げる */
@media (max-height: 700px){
  .homeBottom{ height: 38vh; }
}
