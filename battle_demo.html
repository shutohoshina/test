<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>Battle Prototype</title>
<style>
  body { margin: 0; overflow: hidden; background: #222; color: white; font-family: sans-serif; touch-action: manipulation; }
  #gameArea { position: relative; width: 100vw; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
  
  /* ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆæ•µæƒ…å ±ï¼‰ */
  #header { padding: 10px; background: #333; z-index: 10; display: flex; align-items: center; gap: 10px; }
  .enemyIcon { font-size: 40px; }
  .barWrap { flex: 1; height: 20px; background: #555; border-radius: 10px; overflow: hidden; position: relative; }
  .bar { height: 100%; transition: width 0.1s; }
  #persuadeBar { background: #3b82f6; width: 0%; } /* èª¬å¾—åº¦ï¼ˆé’ï¼‰ */
  #hpBar { background: #ef4444; width: 100%; } /* HPï¼ˆèµ¤ï¼‰ */
  
  .label { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 12px; text-shadow: 0 1px 2px black; font-weight: bold; }

  /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ï¼ˆå¼¾å¹•ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰ */
  #field { flex: 1; position: relative; overflow: hidden; }
  
  /* å¼¾å¹•ï¼ˆè¨€è‘‰ï¼‰ */
  .word { position: absolute; padding: 8px 12px; background: #fff; color: #000; border-radius: 20px; font-weight: bold; font-size: 14px; border: 2px solid #ef4444; cursor: pointer; user-select: none; white-space: nowrap; box-shadow: 0 4px 8px rgba(0,0,0,0.5); transform: translateX(-50%); }
  .word.destroyed { transform: translateX(-50%) scale(1.5); opacity: 0; transition: 0.2s; pointer-events: none; }

  /* ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆæ“ä½œéƒ¨ï¼‰ */
  #footer { padding: 20px; background: #111; text-align: center; z-index: 10; }
  #attackBtn { width: 100%; max-width: 300px; padding: 20px; font-size: 24px; font-weight: bold; border: none; border-radius: 12px; background: #3b82f6; color: white; box-shadow: 0 6px 0 #1d4ed8; active:translateY(4px); active:box-shadow: 0 2px 0 #1d4ed8; touch-action: manipulation; }
  #attackBtn:active { transform: translateY(4px); box-shadow: 0 2px 0 #1d4ed8; }

  /* ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
  .effect { position: absolute; font-weight: bold; font-size: 20px; color: #fbbf24; pointer-events: none; animation: floatUp 0.5s forwards; }
  @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-30px); } }

  /* ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼/ã‚¯ãƒªã‚¢ */
  #overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 200; display: none; }
  button.retry { padding: 12px 24px; font-size: 18px; cursor: pointer; background: #fff; border: none; border-radius: 4px; font-weight: bold; margin-top: 20px; }
</style>
</head>
<body>
<div id="gameArea">
  <div id="header">
    <div class="enemyIcon">ğŸ‘µ</div>
    <div style="flex:1">
      <div style="display:flex; justify-content:space-between; font-size:12px; margin-bottom:4px;">
        <span>èª¬å¾—åº¦</span>
        <span id="persuadeVal">0%</span>
      </div>
      <div class="barWrap"><div id="persuadeBar" class="bar"></div></div>
    </div>
  </div>

  <div id="field">
    <!-- å¼¾å¹•ãŒã“ã“ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
  </div>

  <div style="padding: 10px; background: #222;">
    <div style="display:flex; justify-content:space-between; font-size:12px; margin-bottom:4px;">
      <span>ãƒ¡ãƒ³ã‚¿ãƒ« (HP)</span>
      <span id="hpVal">100%</span>
    </div>
    <div class="barWrap"><div id="hpBar" class="bar"></div></div>
  </div>

  <div id="footer">
    <button id="attackBtn">èª¬å¾—ã™ã‚‹ï¼(é€£æ‰“)</button>
  </div>

  <div id="overlay">
    <h1 id="resultTitle" style="margin-bottom:10px;"></h1>
    <div id="resultDesc" style="color:#ccc"></div>
    <button class="retry" onclick="location.reload()">ã‚‚ã†ä¸€åº¦</button>
  </div>
</div>
<script src="battle_demo.js"></script>
</body>
</html>